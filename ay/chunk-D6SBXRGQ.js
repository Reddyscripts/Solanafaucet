import{m as O}from"./chunk-YWNSDLME.js";var Se=Symbol(),pe=Symbol();var ee=Object.getPrototypeOf,F=new WeakMap,me=e=>e&&(F.has(e)?F.get(e):ee(e)===Object.prototype||ee(e)===Array.prototype);var te=e=>me(e)&&e[pe]||null,J=(e,t=!0)=>{F.set(e,t)};var Y=e=>typeof e=="object"&&e!==null,A=new WeakMap,K=new WeakSet,ge=(e=Object.is,t=(n,h)=>new Proxy(n,h),s=n=>Y(n)&&!K.has(n)&&(Array.isArray(n)||!(Symbol.iterator in n))&&!(n instanceof WeakMap)&&!(n instanceof WeakSet)&&!(n instanceof Error)&&!(n instanceof Number)&&!(n instanceof Date)&&!(n instanceof String)&&!(n instanceof RegExp)&&!(n instanceof ArrayBuffer),r=n=>{switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:throw n}},c=new WeakMap,l=(n,h,b=r)=>{let w=c.get(n);if(w?.[0]===h)return w[1];let v=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n));return J(v,!0),c.set(n,[h,v]),Reflect.ownKeys(n).forEach(k=>{if(Object.getOwnPropertyDescriptor(v,k))return;let P=Reflect.get(n,k),j={value:P,enumerable:!0,configurable:!0};if(K.has(P))J(P,!1);else if(P instanceof Promise)delete j.value,j.get=()=>b(P);else if(A.has(P)){let[y,H]=A.get(P);j.value=l(y,H(),b)}Object.defineProperty(v,k,j)}),Object.preventExtensions(v)},d=new WeakMap,f=[1,1],C=n=>{if(!Y(n))throw new Error("object required");let h=d.get(n);if(h)return h;let b=f[0],w=new Set,v=(i,a=++f[0])=>{b!==a&&(b=a,w.forEach(o=>o(i,a)))},k=f[1],P=(i=++f[1])=>(k!==i&&!w.size&&(k=i,y.forEach(([a])=>{let o=a[1](i);o>b&&(b=o)})),b),j=i=>(a,o)=>{let g=[...a];g[1]=[i,...g[1]],v(g,o)},y=new Map,H=(i,a)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&y.has(i))throw new Error("prop listener already exists");if(w.size){let o=a[3](j(i));y.set(i,[a,o])}else y.set(i,[a])},Z=i=>{var a;let o=y.get(i);o&&(y.delete(i),(a=o[1])==null||a.call(o))},ue=i=>(w.add(i),w.size===1&&y.forEach(([o,g],U)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&g)throw new Error("remove already exists");let R=o[3](j(U));y.set(U,[o,R])}),()=>{w.delete(i),w.size===0&&y.forEach(([o,g],U)=>{g&&(g(),y.set(U,[o]))})}),q=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n)),x=t(q,{deleteProperty(i,a){let o=Reflect.get(i,a);Z(a);let g=Reflect.deleteProperty(i,a);return g&&v(["delete",[a],o]),g},set(i,a,o,g){let U=Reflect.has(i,a),R=Reflect.get(i,a,g);if(U&&(e(R,o)||d.has(o)&&e(R,d.get(o))))return!0;Z(a),Y(o)&&(o=te(o)||o);let V=o;if(o instanceof Promise)o.then(_=>{o.status="fulfilled",o.value=_,v(["resolve",[a],_])}).catch(_=>{o.status="rejected",o.reason=_,v(["reject",[a],_])});else{!A.has(o)&&s(o)&&(V=C(o));let _=!K.has(V)&&A.get(V);_&&H(a,_)}return Reflect.set(i,a,V,g),v(["set",[a],o,R]),!0}});d.set(n,x);let fe=[q,P,l,ue];return A.set(x,fe),Reflect.ownKeys(n).forEach(i=>{let a=Object.getOwnPropertyDescriptor(n,i);"value"in a&&(x[i]=n[i],delete a.value,delete a.writable),Object.defineProperty(q,i,a)}),x})=>[C,A,K,e,t,s,r,c,l,d,f],[he]=ge();function L(e={}){return he(e)}function D(e,t,s){let r=A.get(e);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!r&&console.warn("Please use proxy object");let c,l=[],d=r[3],f=!1,n=d(h=>{if(l.push(h),s){t(l.splice(0));return}c||(c=Promise.resolve().then(()=>{c=void 0,f&&t(l.splice(0))}))});return f=!0,()=>{f=!1,n()}}function se(e,t){let s=A.get(e);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!s&&console.warn("Please use proxy object");let[r,c,l]=s;return l(r,c(),t)}var u=L({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),de={state:u,subscribe(e){return D(u,()=>e(u))},push(e,t){e!==u.view&&(u.view=e,t&&(u.data=t),u.history.push(e))},reset(e){u.view=e,u.history=[e]},replace(e){u.history.length>1&&(u.history[u.history.length-1]=e,u.view=e)},goBack(){if(u.history.length>1){u.history.pop();let[e]=u.history.slice(-1);u.view=e}},setData(e){u.data=e}},m={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return m.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){let e=navigator.userAgent.toLowerCase();return m.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},isArray(e){return Array.isArray(e)&&e.length>0},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},formatNativeUrl(e,t,s){if(m.isHttpUrl(e))return this.formatUniversalUrl(e,t,s);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,s);let c=encodeURIComponent(t);return`${r}wc?uri=${c}`},formatUniversalUrl(e,t,s){if(!m.isHttpUrl(e))return this.formatNativeUrl(e,t,s);let r=e;if(r.startsWith("https://t.me")){let l=Buffer.from(t).toString("base64").replace(/[=]/g,"");r.endsWith("/")&&(r=r.slice(0,-1)),this.setWalletConnectDeepLink(r,s);let d=new URL(r);return d.searchParams.set("startapp",l),d.toString()}r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,s);let c=encodeURIComponent(t);return`${r}wc?uri=${c}`},wait(e){return O(this,null,function*(){return new Promise(t=>{setTimeout(t,e)})})},openHref(e,t){let s=this.isTelegram()?"_blank":t;window.open(e,s,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(m.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{let[t]=e.split("?");localStorage.setItem(m.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(m.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(m.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;let t=(e=de.state.data)==null?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},ye=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),p=L({enabled:ye,userSessionId:"",events:[],connectedWalletId:void 0}),we={state:p,subscribe(e){return D(p.events,()=>e(se(p.events[p.events.length-1])))},initialize(){p.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(p.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){p.connectedWalletId=e},click(e){if(p.enabled){let t={type:"CLICK",name:e.name,userSessionId:p.userSessionId,timestamp:Date.now(),data:e};p.events.push(t)}},track(e){if(p.enabled){let t={type:"TRACK",name:e.name,userSessionId:p.userSessionId,timestamp:Date.now(),data:e};p.events.push(t)}},view(e){if(p.enabled){let t={type:"VIEW",name:e.name,userSessionId:p.userSessionId,timestamp:Date.now(),data:e};p.events.push(t)}}},I=L({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),W={state:I,subscribe(e){return D(I,()=>e(I))},setChains(e){I.chains=e},setWalletConnectUri(e){I.walletConnectUri=e},setIsCustomDesktop(e){I.isCustomDesktop=e},setIsCustomMobile(e){I.isCustomMobile=e},setIsDataLoaded(e){I.isDataLoaded=e},setIsUiLoaded(e){I.isUiLoaded=e},setIsAuth(e){I.isAuth=e}},B=L({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),N={state:B,subscribe(e){return D(B,()=>e(B))},setConfig(e){var t,s;we.initialize(),W.setChains(e.chains),W.setIsAuth(!!e.enableAuthMode),W.setIsCustomMobile(!!((t=e.mobileWallets)!=null&&t.length)),W.setIsCustomDesktop(!!((s=e.desktopWallets)!=null&&s.length)),m.setModalVersionInStorage(),Object.assign(B,e)}},ve=Object.defineProperty,re=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,ne=(e,t,s)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ie=(e,t)=>{for(var s in t||(t={}))be.call(t,s)&&ne(e,s,t[s]);if(re)for(var s of re(t))Oe.call(t,s)&&ne(e,s,t[s]);return e},G="https://explorer-api.walletconnect.com",Q="wcm",X="js-2.7.0";function z(e,t){return O(this,null,function*(){let s=Ie({sdkType:Q,sdkVersion:X},t),r=new URL(e,G);return r.searchParams.append("projectId",N.state.projectId),Object.entries(s).forEach(([l,d])=>{d&&r.searchParams.append(l,String(d))}),(yield fetch(r)).json()})}var M={getDesktopListings(e){return O(this,null,function*(){return z("/w3m/v1/getDesktopListings",e)})},getMobileListings(e){return O(this,null,function*(){return z("/w3m/v1/getMobileListings",e)})},getInjectedListings(e){return O(this,null,function*(){return z("/w3m/v1/getInjectedListings",e)})},getAllListings(e){return O(this,null,function*(){return z("/w3m/v1/getAllListings",e)})},getWalletImageUrl(e){return`${G}/w3m/v1/getWalletImage/${e}?projectId=${N.state.projectId}&sdkType=${Q}&sdkVersion=${X}`},getAssetImageUrl(e){return`${G}/w3m/v1/getAssetImage/${e}?projectId=${N.state.projectId}&sdkType=${Q}&sdkVersion=${X}`}},Ee=Object.defineProperty,oe=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,ae=(e,t,s)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Le=(e,t)=>{for(var s in t||(t={}))We.call(t,s)&&ae(e,s,t[s]);if(oe)for(var s of oe(t))Pe.call(t,s)&&ae(e,s,t[s]);return e},ie=m.isMobile(),E=L({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),Te={state:E,getRecomendedWallets(){return O(this,null,function*(){let{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=N.state;if(e==="NONE"||t==="ALL"&&!e)return E.recomendedWallets;if(m.isArray(e)){let r={recommendedIds:e.join(",")},{listings:c}=yield M.getAllListings(r),l=Object.values(c);l.sort((d,f)=>{let C=e.indexOf(d.id),n=e.indexOf(f.id);return C-n}),E.recomendedWallets=l}else{let{chains:s,isAuth:r}=W.state,c=s?.join(","),l=m.isArray(t),d={page:1,sdks:r?"auth_v1":void 0,entries:m.RECOMMENDED_WALLET_AMOUNT,chains:c,version:2,excludedIds:l?t.join(","):void 0},{listings:f}=ie?yield M.getMobileListings(d):yield M.getDesktopListings(d);E.recomendedWallets=Object.values(f)}return E.recomendedWallets})},getWallets(e){return O(this,null,function*(){let t=Le({},e),{explorerRecommendedWalletIds:s,explorerExcludedWalletIds:r}=N.state,{recomendedWallets:c}=E;if(r==="ALL")return E.wallets;c.length?t.excludedIds=c.map(b=>b.id).join(","):m.isArray(s)&&(t.excludedIds=s.join(",")),m.isArray(r)&&(t.excludedIds=[t.excludedIds,r].filter(Boolean).join(",")),W.state.isAuth&&(t.sdks="auth_v1");let{page:l,search:d}=e,{listings:f,total:C}=ie?yield M.getMobileListings(t):yield M.getDesktopListings(t),n=Object.values(f),h=d?"search":"wallets";return E[h]={listings:[...E[h].listings,...n],total:C,page:l??1},{listings:n,total:C}})},getWalletImageUrl(e){return M.getWalletImageUrl(e)},getAssetImageUrl(e){return M.getAssetImageUrl(e)},resetSearch(){E.search={listings:[],total:0,page:1}}},$=L({open:!1}),Ne={state:$,subscribe(e){return D($,()=>e($))},open(e){return O(this,null,function*(){return new Promise(t=>{let{isUiLoaded:s,isDataLoaded:r}=W.state;if(m.removeWalletConnectDeepLink(),W.setWalletConnectUri(e?.uri),W.setChains(e?.chains),de.reset("ConnectWallet"),s&&r)$.open=!0,t();else{let c=setInterval(()=>{let l=W.state;l.isUiLoaded&&l.isDataLoaded&&(clearInterval(c),$.open=!0,t())},200)}})})},close(){$.open=!1}},Ce=Object.defineProperty,le=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,ce=(e,t,s)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,De=(e,t)=>{for(var s in t||(t={}))_e.call(t,s)&&ce(e,s,t[s]);if(le)for(var s of le(t))Ae.call(t,s)&&ce(e,s,t[s]);return e};function je(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}var T=L({themeMode:je()?"dark":"light"}),xe={state:T,subscribe(e){return D(T,()=>e(T))},setThemeConfig(e){let{themeMode:t,themeVariables:s}=e;t&&(T.themeMode=t),s&&(T.themeVariables=De({},s))}},S=L({open:!1,message:"",variant:"success"}),Ve={state:S,subscribe(e){return D(S,()=>e(S))},openToast(e,t){S.open=!0,S.message=e,S.variant=t},closeToast(){S.open=!1}};export{de as a,m as b,we as c,W as d,N as e,Te as f,Ne as g,xe as h,Ve as i};
